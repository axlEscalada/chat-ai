name: CI
on:
  push:
    branches: [main]
  pull_request:
    branches: [main]
jobs:
  run_autonoma_tests:
    runs-on: ubuntu-latest
    name: Run Autonoma Tests
    steps:
      - name: Run Single Test (cmabkzdea001zxk01sp1mnygy)
        id: step-1
        uses: autonoma-ai/actions/test-runner@0.0.1
        with:
          test-id: "cmabkzdea001zxk01sp1mnygy"
          client-id: ${{ secrets.AUTONOMA_CLIENT_ID }}
          client-secret: ${{ secrets.AUTONOMA_CLIENT_SECRET }}
          max-wait-time: "10"
      - name: Show cmabkzdea001zxk01sp1mnygy results
        if: always()
        run: |
          echo "Test status: ${{ steps.step-1.outputs.final-status }}"
          echo "Message: ${{ steps.step-1.outputs.message }}"
          echo "View results at: ${{ steps.step-1.outputs.url }}"
